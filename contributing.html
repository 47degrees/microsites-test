<!DOCTYPE html><html><head><title>Microsites: Contributing</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Microsites contributors" /><meta name="description" content="Github API wrapper written in Scala" /><meta name="og:image" content="/microsites-tests/img/poster.png" /><meta name="image" property="og:image" content="/microsites-tests/img/poster.png" /><meta name="og:title" content="Microsites: Contributing" /><meta name="title" property="og:title" content="Microsites: Contributing" /><meta name="og:site_name" content="Microsites" /><meta name="og:url" content="https://47degrees.github.io/microsites/" /><meta name="og:type" content="website" /><meta name="og:description" content="Github API wrapper written in Scala" /><link rel="icon" type="image/png" href="/microsites-tests/img/favicon.png" /><meta name="twitter:title" content="Microsites: Contributing" /><meta name="twitter:image" content="/microsites-tests/img/poster.png" /><meta name="twitter:description" content="Github API wrapper written in Scala" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/microsites-tests/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/microsites-tests/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/microsites-tests/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/microsites-tests/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/microsites-tests/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/microsites-tests/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/microsites-tests/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/microsites-tests/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/microsites-tests/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/microsites-tests/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/microsites-tests/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/microsites-tests/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/microsites-tests/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/microsites-tests/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/microsites-tests/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/microsites-tests/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/microsites-tests/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/microsites-tests/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/microsites-tests/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/microsites-tests/img/favicon310x150.png" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/microsites-tests/highlight/styles/vs.css" /><link rel="stylesheet" href="/microsites-tests/css/light-style.css" /></head><body class="page"><nav id="navigation" aria-labelledby="main-navigation"><div class="navbar-wrapper container"><div class="navigation-brand"><a href="/microsites-tests/" class="brand custom-feature-icon"><div class="page-icon-wrapper"></div><span class="brand-title">Microsites</span></a></div><div class="navigation-menu"><ul><li><a href="https://github.com/47degrees/microsites-test" target="_blank" rel="noopener noreferrer"><i class="nav-item-icon fa fa-lg fa-github" hidden="true"></i><span class="nav-item-text">GitHub</span></a></li><li><a href="docs"><i class="nav-item-icon fa fa-lg fa-file-text" hidden="true"></i><span class="nav-item-text">Documentation</span></a></li></ul></div></div></nav><nav class="menu-container" aria-labelledby="section-navigation"><div id="horizontal-menu"><ul class="horizontal-nav"><li><a class=" active " href="/microsites-tests/contributing">Contributing</a></li><li><a class="" href="/microsites-tests/changelog">Changelog</a></li></ul></div></nav><main id="site-main" class="page-site-main"><section class="use"><div class="container"><div id="content"><h1 id="contributing">Contributing</h1>

<p>This is a small guide documenting the best way to add support for a new endpoint in Github4s.</p>

<p>As an example, we’ll assume that the endpoint listing the statuses for a specific ref of
the repository API is not part of Github4s and we want Github4s to support it. Documentation for
this endpoint can be found on <a href="https://developer.github.com/v3/repos/statuses/#list-statuses-for-a-specific-ref">developer.github.com</a>.</p>

<p>This endpoint is fairly simple; we need to make a GET request with the repository’s owner and name
as well as the ref for which we want the status in the URL’s path, and Github will send us back a
list of statuses.</p>

<h2 id="source">Source</h2>

<h3 id="domain">Domain</h3>

<p>The first step will be to define the domain for our endpoint which is just a mapping between the
JSONs returned by the Github API and Github4s’ own case classes.</p>

<p>From <a href="https://developer.github.com/v3/repos/statuses/#list-statuses-for-a-specific-ref">the documentation</a>, Github sends a list of statuses which looks like the following:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/repos/octocat/Hello-World/statuses/6dcb09b5b57875f334f61aebed695e2e4193db5e"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/images/error/hubot_happy.gif"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MDY6U3RhdHVzMQ=="</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Build has completed successfully"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"target_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/1000/output"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"context"</span><span class="p">:</span><span class="w"> </span><span class="s2">"continuous-integration/jenkins"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-07-20T01:19:13Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-07-20T01:19:13Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creator"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"octocat"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MDQ6VXNlcjE="</span><span class="p">,</span><span class="w">
      </span><span class="nl">"avatar_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/images/error/octocat_happy.gif"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gravatar_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"html_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/octocat"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"followers_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/followers"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"following_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/following{/other_user}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"gists_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/gists{/gist_id}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"starred_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/starred{/owner}{/repo}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"subscriptions_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/subscriptions"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"organizations_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/orgs"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"repos_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/repos"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"events_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/events{/privacy}"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"received_events_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.github.com/users/octocat/received_events"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"site_admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<p>We can define our <code class="highlighter-rouge">Status</code> case class as:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">case</span> <span class="k">class</span> <span class="nc">Status</span><span class="o">(</span>
    <span class="n">url</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
    <span class="n">avatar_url</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
    <span class="n">id</span><span class="k">:</span> <span class="kt">Long</span><span class="o">,</span>
    <span class="n">node_id</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
    <span class="n">state</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
    <span class="n">description</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">],</span>
    <span class="n">target_url</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">],</span>
    <span class="n">context</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">String</span><span class="o">],</span>
    <span class="n">created_at</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
    <span class="n">updated_at</span><span class="k">:</span> <span class="kt">String</span>
<span class="o">)</span>
</code></pre></div></div>

<p>We can put it in the <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/domain/">github4s.domain package</a> in the file corresponding to the
API, here: <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/domain/Repository.scala">Repository</a>.</p>

<h2 id="algebra">Algebra</h2>

<p>Next, we need to extend the algebra for the corresponding API so it can support our endpoint.
Because our endpoint is part of the repository API, we need to extend the <code class="highlighter-rouge">Repositories[F[_]]</code> algebra:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">listStatuses</span><span class="o">(</span>
      <span class="n">owner</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
      <span class="n">repo</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
      <span class="n">ref</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
      <span class="n">headers</span><span class="k">:</span> <span class="kt">Map</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">()</span>
  <span class="o">)</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">GHResponse</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Status</span><span class="o">]]]</span>
</code></pre></div></div>
<p>This code belongs to the <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/algebras/">github4s.algebras package</a> in the file corresponding
to the API, here: <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/algebras/Repositories.scala">Repositories</a>.</p>

<h2 id="interpreter">Interpreter</h2>

<p>We’re now ready to make <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/interpreters/RepositoriesInterpreter.scala">our repository interpreter</a> deal with <code class="highlighter-rouge">listStatuses</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">override</span> <span class="k">def</span> <span class="nf">listStatuses</span><span class="o">(</span>
      <span class="n">owner</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
      <span class="n">repo</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
      <span class="n">ref</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span>
      <span class="n">headers</span><span class="k">:</span> <span class="kt">Map</span><span class="o">[</span><span class="kt">String</span>, <span class="kt">String</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Map</span><span class="o">())</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">GHResponse</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Status</span><span class="o">]]]</span> <span class="k">=</span>
    <span class="nv">client</span><span class="o">.</span><span class="py">get</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Status</span><span class="o">]](</span><span class="n">accessToken</span><span class="o">,</span> <span class="n">s</span><span class="s">"repos/$owner/$repo/commits/$ref/statuses"</span><span class="o">,</span> <span class="n">headers</span><span class="o">)</span>
</code></pre></div></div>

<p>This method makes the HTTP call with the help of <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/http/HttpClient.scala">HttpClient</a></p>

<h1 id="test">Test</h1>

<p>Now that we’ve written our source code, we’re ready to write the tests.</p>

<h2 id="token">Token</h2>

<p>The first step we need to take in order to run the tests is a valid token which we can provide through an
environment variable:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">GITHUB_TOKEN</span><span class="o">=</span>aaaa
</code></pre></div></div>

<p>You can create a token on Github: <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a>.</p>

<h2 id="integration-tests">Integration tests</h2>

<p>The integration tests are grouped by API in <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/test/scala/github4s/integration/">github4s.integration package</a>. As a result,
we’ll be writing our tests in <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/test/scala/github4s/integration/GHReposSpec.scala">GHReposSpec</a>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Repos &gt;&gt; ListStatus"</span> <span class="n">should</span> <span class="s">"return a non empty list when a valid ref is provided"</span> <span class="n">taggedAs</span> <span class="nc">Integration</span> <span class="n">in</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">response</span> <span class="k">=</span> <span class="nv">client</span><span class="o">.</span><span class="py">use</span> <span class="o">{</span> <span class="n">client</span> <span class="k">=&gt;</span>
      <span class="nc">Github</span><span class="o">[</span><span class="kt">IO</span><span class="o">](</span><span class="n">client</span><span class="o">,</span> <span class="n">accessToken</span><span class="o">).</span><span class="py">repos</span>
        <span class="o">.</span><span class="py">listStatuses</span><span class="o">(</span><span class="n">validRepoOwner</span><span class="o">,</span> <span class="n">validRepoName</span><span class="o">,</span> <span class="n">validCommitSha</span><span class="o">,</span> <span class="n">headers</span> <span class="k">=</span> <span class="n">headerUserAgent</span><span class="o">)</span>
    <span class="o">}.</span><span class="py">unsafeRunSync</span><span class="o">()</span>

    <span class="n">testIsRight</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Status</span><span class="o">]](</span><span class="n">response</span><span class="o">,</span> <span class="o">{</span> <span class="n">r</span> <span class="k">=&gt;</span>
      <span class="nv">r</span><span class="o">.</span><span class="py">nonEmpty</span> <span class="n">shouldBe</span> <span class="kc">true</span>
    <span class="o">})</span>
    <span class="nv">response</span><span class="o">.</span><span class="py">statusCode</span> <span class="n">shouldBe</span> <span class="n">okStatusCode</span>
  <span class="o">}</span>

  <span class="n">it</span> <span class="n">should</span> <span class="s">"return an error when an invalid ref is provided"</span> <span class="n">taggedAs</span> <span class="nc">Integration</span> <span class="n">in</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">response</span> <span class="k">=</span> <span class="nv">client</span><span class="o">.</span><span class="py">use</span> <span class="o">{</span> <span class="n">client</span> <span class="k">=&gt;</span>
      <span class="nc">Github</span><span class="o">[</span><span class="kt">IO</span><span class="o">](</span><span class="n">client</span><span class="o">,</span> <span class="n">accessToken</span><span class="o">).</span><span class="py">repos</span>
        <span class="o">.</span><span class="py">listStatuses</span><span class="o">(</span><span class="n">validRepoOwner</span><span class="o">,</span> <span class="n">validRepoName</span><span class="o">,</span> <span class="n">invalidRef</span><span class="o">,</span> <span class="n">headers</span> <span class="k">=</span> <span class="n">headerUserAgent</span><span class="o">)</span>
    <span class="o">}.</span><span class="py">unsafeRunSync</span><span class="o">()</span>

    <span class="nf">testIsLeft</span><span class="o">(</span><span class="n">response</span><span class="o">)</span>
    <span class="nv">response</span><span class="o">.</span><span class="py">statusCode</span> <span class="n">shouldBe</span> <span class="n">notFoundStatusCode</span>
  <span class="o">}</span>
</code></pre></div></div>

<p>Be aware that integration tests are only required for GET endpoints (not POST or PATCH) to avoid creating useless stuff on GitHub.</p>

<h2 id="unit-tests">Unit tests</h2>

<p>We can now move on to the unit tests which reside in the <a href="https://github.com/47degrees/github4s/tree/master/github4s/src/test/scala/github4s/unit">github4s.unit package</a>. We’re
going to test our <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/main/scala/github4s/interpreters/RepositoriesInterpreter.scala">Intepreter</a>. Here too, the unit tests are
grouped by API which means we’ll be working on <a href="https://github.com/47degrees/github4s/blob/master/github4s/src/test/scala/github4s/unit/ReposSpec.scala">ReposSpec</a>.</p>

<h3 id="interpreter-spec">Interpreter spec</h3>

<p>We’re just checking that our API defined above hits the right endpoint, here:
<code class="highlighter-rouge">s"repos/$validRepoOwner/$validRepoName/commits/$validRefSingle/statuses"</code>:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Repos.listStatuses"</span> <span class="n">should</span> <span class="s">"call htppClient.get with the right parameters"</span> <span class="n">in</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">response</span><span class="k">:</span> <span class="kt">IO</span><span class="o">[</span><span class="kt">GHResponse</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Status</span><span class="o">]]]</span> <span class="k">=</span>
      <span class="nc">IO</span><span class="o">(</span><span class="nc">GHResult</span><span class="o">(</span><span class="nc">List</span><span class="o">(</span><span class="n">status</span><span class="o">).</span><span class="py">asRight</span><span class="o">,</span> <span class="n">okStatusCode</span><span class="o">,</span> <span class="nv">Map</span><span class="o">.</span><span class="py">empty</span><span class="o">))</span>

    <span class="k">implicit</span> <span class="k">val</span> <span class="nv">httpClientMock</span> <span class="k">=</span> <span class="n">httpClientMockGet</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">Status</span><span class="o">]](</span>
      <span class="n">url</span> <span class="k">=</span> <span class="n">s</span><span class="s">"repos/$validRepoOwner/$validRepoName/commits/$validRefSingle/statuses"</span><span class="o">,</span>
      <span class="n">response</span> <span class="k">=</span> <span class="n">response</span>
    <span class="o">)</span>

    <span class="k">val</span> <span class="nv">repos</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">RepositoriesInterpreter</span><span class="o">[</span><span class="kt">IO</span><span class="o">]</span>

    <span class="nv">repos</span><span class="o">.</span><span class="py">listStatuses</span><span class="o">(</span><span class="n">validRepoOwner</span><span class="o">,</span> <span class="n">validRepoName</span><span class="o">,</span> <span class="n">validRefSingle</span><span class="o">,</span> <span class="n">headerUserAgent</span><span class="o">)</span>
  <span class="o">}</span>
</code></pre></div></div>

<h1 id="documentation">Documentation</h1>

<p>Finally, we can add documentation to http://47deg.github.io/github4s/. Github4s uses
<a href="https://github.com/47degrees/sbt-microsites">sbt-microsites</a> and <a href="https://github.com/scalameta/mdoc">mdoc</a>
to generate and publish its documentation.</p>

<p>It shouldn’t come as a surprise at this point, but the documentation is grouped by API. As a result,
we’ll add documentation to <a href="https://github.com/47degrees/github4s/blob/master/docs/docs/repository.md">repository.md</a>:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>### List statuses for a specific ref

You can also list statuses through `listStatuses`; it take as arguments:

- the repository coordinates (`owner` and `name` of the repository).
- a git ref (a `SHA`, a branch `name` or a tag `name`).

To list the statuses for a specific ref:

{triple backtick}scala mdoc:silent
val listStatuses = gh.repos.listStatuses("47degrees", "github4s", "heads/master")
val response = listStatuses.unsafeRunSync()
response.result match {
  case Left(e) =&gt; println(s"Something went wrong: ${e.getMessage}")
  case Right(r) =&gt; println(r)
}
{triple backtick}

The `result` on the right is the corresponding [List[Status]][repository-scala].

See [the API doc](https://developer.github.com/v3/repos/statuses/#list-statuses-for-a-specific-ref)
for full reference.
</code></pre></div></div>

<p>Once the documentation is written, we can build it locally with:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt <span class="s2">"project docs"</span> makeMicrosite
<span class="nb">cd </span>docs/target/site/ <span class="o">&amp;&amp;</span> jekyll serve
</code></pre></div></div>

</div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><p>Microsites is designed and developed by <a href="https://github.com/47degrees/microsites/blob/master/AUTHORS.md" target="_blank" rel="noopener noreferrer">Microsites contributors</a></p></div><div class="row"><div><p>Website built with <a href="https://47degrees.github.io/sbt-microsites/" target="_blank" rel="noopener noreferrer">sbt-microsites</a> - © 2019 <a href="https://www.47deg.com/" target="_blank" rel="noopener noreferrer">47 Degrees</a></p></div></div></div></footer><script src="/microsites-tests/highlight/highlight.pack.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: '47degrees/microsites-test'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/microsites-tests/js/version-selector.js"></script></body></html>